{% extends 'base.html' %}
{% load static %}
{% block title %}Explora Nuestras Categorías{% endblock %}
{% block description %} Todas las categorias de noticias sobre IA {% endblock %}
{% block content %}
<main>
    <section class="whats-news-area section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-tittle text-center mb-80">
                        <h2>Explora Nuestras Categorías</h2>
                    </div>
                </div>
            </div>
            <div class="category-grid">
                {% for categoria in categorias %}
                <div class="category-card">
                    <div class="card-image">
                        <a href="{% url 'noticias:posts_por_categoria' categoria.id %}">
                            {% if categoria.imagen %}
                                <img src="{{ categoria.imagen.url }}" alt="Imagen de {{ categoria.nombre }}">
                            {% else %}
                                <img src="https://placehold.co/600x400/f0f0f0/ccc?text=Sin+Imagen" alt="Categoría sin imagen">
                            {% endif %}
                        </a>
                    </div>
                    <div class="card-content">
                        <span class="article-count">{{ categoria.num_posts }} Artículo(s)</span>
                        <h4><a href="{% url 'noticias:posts_por_categoria' categoria.id %}">{{ categoria.nombre }}</a></h4>
                        <p>{{ categoria.descripcion|truncatewords:20 }}</p> {# Añade la descripción aquí #}
                    </div>
                </div>
                {% empty %}
                <div class="col-12">
                    <p class="text-center">Aún no hay categorías para mostrar.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
</main>
{% endblock %}